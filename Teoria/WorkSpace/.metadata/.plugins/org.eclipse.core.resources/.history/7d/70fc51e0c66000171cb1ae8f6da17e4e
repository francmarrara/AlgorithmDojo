import java.util.ArrayList;
import java.util.Scanner;
import org.jgrapht.graph.DefaultEdge;

public class Test {
	
	public boolean 

	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);

		int nCittà;
		int nSerbatoiMax;
		nCittà = scanner.nextInt();
		nSerbatoiMax = scanner.nextInt();
		String Vertex1;
		String Vertex2;
		StringGrafoOrientato g = new StringGrafoOrientato(DefaultEdge.class);
		int cont = 0;
		while(cont<nCittà) {
			g.addVertex(scanner.next());
		
			cont++;
			
		}

		while (scanner.hasNext()) {
			Vertex1 = scanner.next();
			scanner.next();
			Vertex2 = scanner.next();
			g.addEdge(Vertex1, Vertex2);

		}
		
		
ArrayList<Città> città = new ArrayList<Città>();

ArrayList<Città> cittàdaServire = new ArrayList<Città>();

for(String s : g.vertexSet()) {
	Città cittadina= new Città(s,g.inDegreeOf(s)+g.outDegreeOf(s));
	città.add(cittadina);
	cittàdaServire.add(cittadina);
	
	
}

for(Città c : città) {
	if(c.getPriorità()==0)
		c.setHasSerbatoio(true);
}




	
}
	}
